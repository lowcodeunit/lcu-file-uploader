{"version":3,"file":"lowcodeunit-lcu-file-uploader-common.js","sources":["ng://@lowcodeunit/lcu-file-uploader-common/lib/controls/file-uploader/file-uploader.component.ts","ng://@lowcodeunit/lcu-file-uploader-common/lib/lcu-file-uploader.module.ts"],"sourcesContent":["import { Component, OnInit, Output, EventEmitter, Input } from '@angular/core';\r\nimport { FileUploader } from 'ng2-file-upload/ng2-file-upload';\r\n\r\n@Component({\r\n  selector: 'lcu-file-uploader',\r\n  templateUrl: './file-uploader.component.html',\r\n  styleUrls: ['./file-uploader.component.scss']\r\n})\r\n\r\nexport class FileUploaderComponent implements OnInit {\r\n\r\n\r\npublic FileUploader: FileUploader; \r\n\r\npublic SelectedFiles: Array<File>;\r\n\r\nprotected _URL;\r\n@Input('url')\r\n  protected set URL(value: string){\r\n    this._URL = value;\r\n  }\r\n\r\n@Output('files-to-upload')\r\n  public FilesToUpload: EventEmitter<Array<File>>;\r\n\r\n  constructor() { \r\n    this.SelectedFiles = new Array<File>();\r\n    this.FilesToUpload = new EventEmitter<Array<File>>();\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.FileUploader = new FileUploader({url: this._URL});\r\n  }\r\n\r\n  onFileChanged(event) {\r\n    console.log(\"event = \", event.queue);\r\n    if (this.SelectedFiles) {\r\n      for (let i = 0; i < event.queue.length; i++) {\r\n        console.log(\"pushing: \", event.queue[i].file.rawFile);\r\n        this.SelectedFiles.push(event.queue[i].file.rawFile);\r\n      }\r\n    }\r\n    console.log(\"file uploaded = \", this.SelectedFiles);\r\n    this.FilesToUpload.emit(this.SelectedFiles);\r\n  }\r\n\r\n}\r\n ","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FileUploaderComponent } from './controls/file-uploader/file-uploader.component';\r\nimport { FileUploadModule } from 'ng2-file-upload/ng2-file-upload';\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    FileUploaderComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    FileUploadModule\r\n  ],\r\n  exports: [FileUploaderComponent, FileUploadModule],\r\n  entryComponents: [FileUploaderComponent]\r\n})\r\nexport class LcuFileUploaderModule { }\r\n"],"names":[],"mappings":";;;;;;;;;AAAA;IAyBE;QACE,IAAI,CAAC,aAAa,GAAG,IAAI,KAAK,EAAQ,CAAC;QACvC,IAAI,CAAC,aAAa,GAAG,IAAI,YAAY,EAAe,CAAC;KACtD;IAXH,sBACgB,sCAAG;;;;;;QADnB,UACoB,KAAa;YAC7B,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;SACnB;;;OAAA;;;;IAUD,wCAAQ;;;IAAR;QACE,IAAI,CAAC,YAAY,GAAG,IAAI,YAAY,CAAC,EAAC,GAAG,EAAE,IAAI,CAAC,IAAI,EAAC,CAAC,CAAC;KACxD;;;;;IAED,6CAAa;;;;IAAb,UAAc,KAAK;QACjB,OAAO,CAAC,GAAG,CAAC,UAAU,EAAE,KAAK,CAAC,KAAK,CAAC,CAAC;QACrC,IAAI,IAAI,CAAC,aAAa,EAAE;YACtB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBAC3C,OAAO,CAAC,GAAG,CAAC,WAAW,EAAE,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;gBACtD,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;aACtD;SACF;QACD,OAAO,CAAC,GAAG,CAAC,kBAAkB,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC;QACpD,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;KAC7C;;gBAzCF,SAAS,SAAC;oBACT,QAAQ,EAAE,mBAAmB;oBAC7B,gUAA6C;;iBAE9C;;;;;sBAUA,KAAK,SAAC,KAAK;gCAKX,MAAM,SAAC,iBAAiB;;IAwBzB,4BAAC;CA3CD,IA2CC;;;IAlCD,6CAAkC;;IAElC,8CAAkC;;;;;IAElC,qCAAe;;IAMf,8CACkD;;;;;;;ACvBlD;IAOA;KAWsC;;gBAXrC,QAAQ,SAAC;oBACR,YAAY,EAAE;wBACZ,qBAAqB;qBACtB;oBACD,OAAO,EAAE;wBACP,YAAY;wBACZ,gBAAgB;qBACjB;oBACD,OAAO,EAAE,CAAC,qBAAqB,EAAE,gBAAgB,CAAC;oBAClD,eAAe,EAAE,CAAC,qBAAqB,CAAC;iBACzC;;IACoC,4BAAC;CAXtC;;;;;;;;;;;;;;"}