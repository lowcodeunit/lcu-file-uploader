!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common"),require("ng2-file-upload/ng2-file-upload"),require("@lcu/common"),require("ng2-file-upload")):"function"==typeof define&&define.amd?define("@lowcodeunit/lcu-file-uploader-common",["exports","@angular/core","@angular/common","ng2-file-upload/ng2-file-upload","@lcu/common","ng2-file-upload"],t):t(((e=e||self).lowcodeunit=e.lowcodeunit||{},e.lowcodeunit["lcu-file-uploader-common"]={}),e.ng.core,e.ng.common,e.ng2FileUpload,e.common$1,e.ng2FileUpload$1)}(this,(function(e,t,o,n,l,r){"use strict";function i(e){var t="function"==typeof Symbol&&e[Symbol.iterator],o=0;return t?t.call(e):{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}}}var u=function(e,t){this.Data=e,this.Headers=t};var a=function(){function e(){this.SelectedFiles=new Array,this.FilesToUpload=new t.EventEmitter}return Object.defineProperty(e.prototype,"URL",{set:function(e){this._URL=e},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.FileUploader=new n.FileUploader({url:this._URL})},e.prototype.buildImageMessage=function(e,t){var o="filename="+t.file.name,n=new u(e,o);this.SelectedFiles.push(n)},e.prototype.OnFileChanged=function(e){var t=this;this.SelectedFiles=[],l.ConvertToBase64Util.GetBase64(e.queue).subscribe((function(e){var o,n;try{for(var l=i(e),r=l.next();!r.done;r=l.next()){var u=r.value;t.buildImageMessage(u.Blob,u.File)}}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=l.return)&&n.call(l)}finally{if(o)throw o.error}}console.log("Selected Files = ",t.SelectedFiles),t.FilesToUpload.emit(t.SelectedFiles)}))},e.decorators=[{type:t.Component,args:[{selector:"lcu-file-uploader",template:'<input  style="display: none" type="file"  (change)="OnFileChanged(FileUploader)" ng2FileSelect [uploader]="FileUploader" multiple #fileInput/>\r\n<button mat-raised-button class="button" (click)="fileInput.click()">Select File(s)</button>\r\n\r\n\x3c!-- <input (change)="onFileChanged($event)"> --\x3e\r\n\x3c!-- <input type="file" (change)="onUpload($event)" #file />\r\n<button mat-raised-button class="button" (click)="file.click()">Select File</button> --\x3e\r\n\r\n',styles:[".button{background-color:#3f51b5;color:#fff;border-color:#3f51b5;border-radius:4px;font-family:Arial;font-size:13.3333px;padding:6px;box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)!important}"]}]}],e.ctorParameters=function(){return[]},e.propDecorators={URL:[{type:t.Input,args:["url"]}],FilesToUpload:[{type:t.Output,args:["files-to-upload"]}]},e}();var c=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{declarations:[a],imports:[o.CommonModule,n.FileUploadModule],exports:[a,n.FileUploadModule],entryComponents:[a]}]}],e}();Object.defineProperty(e,"FileDropDirective",{enumerable:!0,get:function(){return r.FileDropDirective}}),Object.defineProperty(e,"FileItem",{enumerable:!0,get:function(){return r.FileItem}}),Object.defineProperty(e,"FileLikeObject",{enumerable:!0,get:function(){return r.FileLikeObject}}),Object.defineProperty(e,"FileSelectDirective",{enumerable:!0,get:function(){return r.FileSelectDirective}}),Object.defineProperty(e,"FileUploadModule",{enumerable:!0,get:function(){return r.FileUploadModule}}),Object.defineProperty(e,"FileUploader",{enumerable:!0,get:function(){return r.FileUploader}}),e.FileUploaderComponent=a,e.ImageMessage=u,e.LcuFileUploaderModule=c,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=lowcodeunit-lcu-file-uploader-common.umd.min.js.map