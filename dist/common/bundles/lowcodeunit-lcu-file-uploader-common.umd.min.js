!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common"),require("ng2-file-upload/ng2-file-upload"),require("ng2-file-upload")):"function"==typeof define&&define.amd?define("@lowcodeunit/lcu-file-uploader-common",["exports","@angular/core","@angular/common","ng2-file-upload/ng2-file-upload","ng2-file-upload"],t):t(((e=e||self).lowcodeunit=e.lowcodeunit||{},e.lowcodeunit["lcu-file-uploader-common"]={}),e.ng.core,e.ng.common,e.ng2FileUpload,e.ng2FileUpload$1)}(this,function(e,t,o,n,l){"use strict";var i=function(e,t){this.Data=e,this.Headers=t};var r=function(){function e(){this.SelectedFiles=new Array,this.FilesToUpload=new t.EventEmitter}return Object.defineProperty(e.prototype,"URL",{set:function(e){this._URL=e},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.FileUploader=new n.FileUploader({url:this._URL})},e.prototype.getBase64=function(e){var t=e,o=this,n=new FileReader;n.readAsDataURL(t),n.onload=function(){o.buildImageMessage(n.result.toString(),t)},n.onerror=function(e){console.log("Error: ",e)}},e.prototype.buildImageMessage=function(e,t){var o="filename="+t.name,n=new i(e,o);this.SelectedFiles.push(n)},e.prototype.onFileChanged=function(e){if(this.SelectedFiles)for(var t=0;t<e.queue.length;t++)this.getBase64(e.queue[t].file.rawFile);console.log("file(s) uploaded = ",this.SelectedFiles),this.FilesToUpload.emit(this.SelectedFiles)},e.decorators=[{type:t.Component,args:[{selector:"lcu-file-uploader",template:'<input  style="display: none" type="file"  (change)="onFileChanged(FileUploader)" ng2FileSelect [uploader]="FileUploader" multiple #fileInput/>\r\n<button mat-raised-button class="button" (click)="fileInput.click()">Select File(s)</button>\r\n\r\n\x3c!-- <input (change)="onFileChanged($event)"> --\x3e\r\n\x3c!-- <input type="file" (change)="onUpload($event)" #file />\r\n<button mat-raised-button class="button" (click)="file.click()">Select File</button> --\x3e\r\n\r\n',styles:[".button{background-color:#3f51b5;color:#fff;border-color:#3f51b5;border-radius:4px;font-family:Arial;font-size:13.3333px;padding:6px;box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)!important}"]}]}],e.ctorParameters=function(){return[]},e.propDecorators={URL:[{type:t.Input,args:["url"]}],FilesToUpload:[{type:t.Output,args:["files-to-upload"]}]},e}();var a=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{declarations:[r],imports:[o.CommonModule,n.FileUploadModule],exports:[r,n.FileUploadModule],entryComponents:[r]}]}],e}();Object.defineProperty(e,"FileDropDirective",{enumerable:!0,get:function(){return l.FileDropDirective}}),Object.defineProperty(e,"FileItem",{enumerable:!0,get:function(){return l.FileItem}}),Object.defineProperty(e,"FileLikeObject",{enumerable:!0,get:function(){return l.FileLikeObject}}),Object.defineProperty(e,"FileSelectDirective",{enumerable:!0,get:function(){return l.FileSelectDirective}}),Object.defineProperty(e,"FileUploadModule",{enumerable:!0,get:function(){return l.FileUploadModule}}),Object.defineProperty(e,"FileUploader",{enumerable:!0,get:function(){return l.FileUploader}}),e.FileUploaderComponent=r,e.ImageMessage=i,e.LcuFileUploaderModule=a,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=lowcodeunit-lcu-file-uploader-common.umd.min.js.map